<div ng-include src="'menu.html'" scope="" onload=""></div>

<div class="col-md-8 col-md-offset-2" style="padding:20px;position:absolute;left:10%;top:0;">
    <div class="page-header">
        <h2>Laravel and Angular Single Page Application</h2>
        <h4>Leave a comment!</h4>
    </div>

    <div class="form-group">
        <input type="text" class="form-control input-sm" name="author" ng-model="comment.author" placeholder="Name" style="width:150px;line-height:28px;">
    </div>

    <div class="form-group">
        <textarea class="form-control input-lg" name="comment" ng-model="comment.text" placeholder="Say what you have to say" style="min-width:300px;max-width:300px;;min-height:50px;"></textarea>
    </div>

    <div class="form-group text-right">
        <button type="submit" class="btn btn-primary btn-lg" ng-click="newComment()">Submit</button>
        <button type="submit" class="btn btn-primary btn-lg" ng-click="sendMessage()">test</button>
    </div>

    <p class="text-center" ng-show="loading"><span class="fa fa-meh-o fa-5x fa-spin"></span></p>
    <br/>
    <br/>
    <div class="comment" ng-hide="loading" ng-repeat="comment in comments" style="max-width: 350px; padding:10px; border: 1px solid black; padding-top:5px;">
        <h3>Comment #{{ comment.id }} by {{ comment.author }}</h3>
        <p ng-hide="editComment" ng-dblclick="editComment = true">{{ comment.text }}</p>
        <div ng-show="editComment">
            <textarea class="form-control input-lg" name="comment" ng-model="comment.text" placeholder="Say what you have to say" style="min-width:300px;max-width:300px;"></textarea>
        </div>

        <span><a ng-click="deleteComment(comment, $index)" class="text-muted">Delete</a></span>
        <span ng-hide="editComment" ><a ng-click="editComment = true" class="text-muted">Edit</a></span>
        <span ng-hide="editComment" ><a ng-href="#/comments/{{comment.id}}" class="text-muted">View</a></span>

        <span ng-show="editComment" ><a ng-click="updateComment(comment, $index); editComment = false" class="text-muted">Save</a></span>
    </div>
</div>
